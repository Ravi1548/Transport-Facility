<div class="dashboard-container">
  <div class="dashboard-header">
    <div class="welcome-section">
      <h1>Welcome, {{ currentEmployee?.name }}!</h1>
      <p>Employee ID: {{ currentEmployee?.id }}</p>
    </div>
    <button class="logout-btn" (click)="logout()">
      <span class="logout-icon">⚪</span> Logout
    </button>
  </div>

  <div class="quick-actions">
    <div class="action-card" [class.disabled]="!canAddRide" (click)="canAddRide && navigateToAddRide()">
      <div class="action-icon add-icon">+</div>
      <h3>Add Ride</h3>
      <p>{{ canAddRide ? 'Create a new ride for today' : 'You have already added a ride today' }}</p>
    </div>

    <div class="action-card" (click)="navigateToPickRide()">
      <div class="action-icon pick-icon"></div>
      <h3>Pick Ride</h3>
      <p>Find and book available rides</p>
    </div>
  </div>

  <!-- My Rides Section -->
  <div class="rides-section">
    <h2>My Rides (Today)</h2>
    <div class="rides-container" *ngIf="getTodayRides(myRides).length > 0; else noMyRides">
      <div class="ride-card my-ride" *ngFor="let ride of getTodayRides(myRides)">
        <div class="ride-header">
          <div class="vehicle-info">
            <span class="vehicle-type" [class]="ride.vehicleType.toLowerCase()">
              {{ ride.vehicleType }}
            </span>
            <span class="vehicle-number">{{ ride.vehicleNo }}</span>
          </div>
          <div class="time-badge">{{ formatTime(ride.time) }}</div>
        </div>

        <div class="ride-body">
          <div class="route">
            <div class="route-point">
              <span class="route-label">From</span>
              <span class="route-value">{{ ride.pickupPoint }}</span>
            </div>
            <div class="route-arrow">→</div>
            <div class="route-point">
              <span class="route-label">To</span>
              <span class="route-value">{{ ride.destination }}</span>
            </div>
          </div>

          <div class="ride-stats">
            <div class="stat">
              <span class="stat-label">Total Seats</span>
              <span class="stat-value">{{ ride.vacantSeats }}</span>
            </div>
            <div class="stat">
              <span class="stat-label">Booked</span>
              <span class="stat-value">{{ ride.bookedBy.length }}</span>
            </div>
            <div class="stat">
              <span class="stat-label">Available</span>
              <span class="stat-value available">{{ getAvailableSeats(ride) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noMyRides>
      <div class="empty-state">
        <div class="empty-icon"></div>
        <h3>No rides created today</h3>
        <p>You haven't created any rides for today yet.</p>
        <button class="btn btn-primary" (click)="navigateToAddRide()" *ngIf="canAddRide">
          Create Your First Ride
        </button>
      </div>
    </ng-template>
  </div>

  <!-- Booked Rides Section -->
  <div class="rides-section">
    <h2>My Booked Rides (Today)</h2>
    <div class="rides-container" *ngIf="getTodayRides(bookedRides).length > 0; else noBookedRides">
      <div class="ride-card booked-ride" *ngFor="let ride of getTodayRides(bookedRides)">
        <div class="ride-header">
          <div class="vehicle-info">
            <span class="vehicle-type" [class]="ride.vehicleType.toLowerCase()">
              {{ ride.vehicleType }}
            </span>
            <span class="vehicle-number">{{ ride.vehicleNo }}</span>
          </div>
          <div class="time-badge">{{ formatTime(ride.time) }}</div>
        </div>

        <div class="ride-body">
          <div class="route">
            <div class="route-point">
              <span class="route-label">From</span>
              <span class="route-value">{{ ride.pickupPoint }}</span>
            </div>
            <div class="route-arrow">→</div>
            <div class="route-point">
              <span class="route-label">To</span>
              <span class="route-value">{{ ride.destination }}</span>
            </div>
          </div>

          <div class="driver-info">
            <span class="driver-label">Driver:</span>
            <span class="driver-value">Employee ID: {{ ride.employeeId }}</span>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noBookedRides>
      <div class="empty-state">
        <div class="empty-icon"></div>
        <h3>No booked rides today</h3>
        <p>You haven't booked any rides for today yet.</p>
        <button class="btn btn-primary" (click)="navigateToPickRide()">
          Find Available Rides
        </button>
      </div>
    </ng-template>
  </div>
</div>